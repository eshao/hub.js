<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<meta name="description" content="separation of concerns with pub/sub multicasting, mixins and promises" />
	<title>hub.js - separation of concerns with pub/sub multicasting, mixins and promises</title>
	<link rel="stylesheet" type="text/css" href="styles.css" />
	<link rel="stylesheet" type="text/css" href="sh_nedit.min.css" />
	<!--[if IE]>
	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-126897-7']);
		_gaq.push(['_trackPageview']);
		(function() {
			var ga = document.createElement('script');
			ga.type = 'text/javascript';
			ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0];
			s.parentNode.insertBefore(ga, s);
  		})();
	</script>
</head>
<body>
	
	<header>
		<h3>hub.js</h3>
		<h2>Separation of concerns with pub/sub multicasting, mixins and promises</h2>
		<nav>
			<!-- a href="documentation.html">Documentation</a> | -->
			<a href="https://github.com/mantoni/hub.js/raw/master/dist/hub-0.1-SNAPSHOT.js">Download</a> |
			<a href="https://github.com/mantoni/hub.js">Source code</a> |
			<a href="http://groups.google.com/group/hub-js">Google group</a>
		</nav>
	</header>
	
	<nav class="select">
		<a href="#publish-subscribe">Publish &amp; subscribe</a> |
		<a href="#peers-mixins">Peers &amp; mixins</a> |
		<a href="#promises">Promises</a>
	</nav>
	
	<section id="publish-subscribe">
		<h1>Publish &amp; subscribe</h1>
		<p>
			This is the core concept in hub.js. <em>Topics</em> are used as
			identifiers and have the form <em>namespace/message</em>.
			The <em>namespace</em> and <em>message</em> parts are both dot
			delimited path names.
		</p>
		<pre class="sh_javascript">
hub.subscribe("say.hello/world", function() { /* ... */ });
hub.publish("say.hello/world");
</pre>
		<p>
			Topics may contain single and double wildcards (* and **) which
			can be used to create <em>aspects</em> and <em>multicasting</em>.
		</p>
		<pre class="sh_javascript">
hub.subscribe("chatroom.**/join", function(buddy) { /* ... */ });
hub.publish("chatroom.**/leave", "Buddy");</pre>
		<a class="next" href="#peers-mixins">Peers &amp; mixins &gt;&gt;</a>
	</section>
	
	<section id="peers-mixins">
		<h1>Peers &amp; mixins</h1>
		<p>
			Multiple subscriptions for the same <em>namespace</em> can be
			grouped in <em>peers</em> that share information.
		</p>
		<pre class="sh_javascript">
hub.peer("my.AddressBook", function() {
   var people = [];
   return {
      add: function(person) { /* ... */ }
   };
});
</pre>
		<p>
			Peers can also be mixed:
		</p>
		<pre class="sh_javascript">
hub.peer("my.AddressBook", ["Persistable", "Searchable"], function() {
   /* ... */
});
</pre>
		<a class="previous"
			href="#publish-subscribe">&lt;&lt; Publish &amp; subscribe</a>
		<a class="next" href="#promises">Promises &gt;&gt;</a>
	</section>
	
	<section id="promises">
		<h1>Promises</h1>
		<p>
			With hub.js it does not matter whether things happen synchronous
			or asynchronous. Result processing always works in the same way.
		</p>
		<pre class="sh_javascript">
hub.publish("some/topic").then(function(result) { /* ... */ });
</pre>
		<p>
			Parallel execution is easy to manage.
		</p>
		<pre class="sh_javascript">
var first = hub.publish("first/thing");
var second = hub.publish("second/thing");
first.join(second).then(function(firstResult, secondResult) { /* ... */ });
</pre>
		<a class="previous"
			href="#peers-mixins">&lt;&lt; Peers &amp; mixins</a>
		<!-- a class="next" href="documentation.html">Documentation &gt;&gt;</a -->
	</section>
	
	<footer>
		Copyright 2011, <a href="http://maxantoni.de">Maximilian Antoni</a> |
		<a href="https://github.com/mantoni">GitHub</a> |
		<a href="http://twitter.com/mantoni">Twitter</a>
	</footer>
	
	<script type="text/javascript">
		var sections = document.getElementsByTagName("section");
		var links = document.getElementsByTagName("a");
		for(var i = 0; i < links.length; i++) {
			if(links[i].getAttribute("href").indexOf("#") !== -1) {
				links[i].onclick = select;
			}
		}
		function change(id) {
			for(var i = 0; i < sections.length; i++) {
				var display = sections[i].id === id ? "block" : "none";
				sections[i].style.display = display;
			}
		}
		function select() {
			var href = this.getAttribute("href");
			change(href.substring(href.indexOf("#") + 1));
			return false;
		}
		change("publish-subscribe");
	</script>
	<script type="text/javascript" src="sh_javascript.min.js"></script>
</body>
</html>
