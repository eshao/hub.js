<!DOCTYPE html>
<!--
	Copyright 2011, Maximilian Antoni
	Released under the MIT license:
	https://github.com/mantoni/hub.js/raw/master/LICENSE
-->
<html>
	<head>
		<title>Hello Async - hub.js example</title>
		<script type="text/javascript"
			src="../dist/hub-0.1-SNAPSHOT.js"></script>
	</head>
	<body>
		<h2>Hello Async - hub.js example</h2>
		<p>
			Compare this file with <a href="hello.html">hello.html</a>
			and note how only the &quot;input&quot; implementation changed.
		</p>
		<hr/>
		<p id="test">
		</p>
		<script type="text/javascript">
		<!--
			var test = document.getElementById("test");
			
			hub.peer("say", {
				hello: function (name) {
					test.innerHTML = "<h1>Hello " + name + "!</h1>";
				}
			});
			
			hub.peer("input", {
				name: function () {
					test.innerHTML =
						'<form>' +
							'<label for="input">Hello </label>' +
							'<input name="input" value="hub"/>' +
							'<input type="submit" value="Go"/>' +
						"</form>";
					var promise = hub.promise();
					document.forms[0].onsubmit = function () {
						promise.resolve(this.input.value);
						return false;
					};
				}
			});
			
			hub.emit("input.name").emitResult("say.hello");
		-->
		</script>
	</body>
</html>
